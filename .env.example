# ------------------------------------------------------------------
# .env.example (grouped with comments) â€” generated 2025-09-03 05:27:32
# NOTE: Values are sample defaults. Copy to .env and adjust for env.
# ------------------------------------------------------------------

# Flask & App

# Random secret for Flask sessions/CSRF (set a strong unique string in prod).
FLASK_SECRET_KEY='change-me'

# Version string to bust caches on deploys (e.g., v1.0.15).
ASSETS_VERSION=v1.0.15

# HTTP cache max-age (seconds) for static assets.
STATIC_MAX_AGE=5

# Number of server workers/threads (depends on deployment).
WORKERS=4


# Database

# SQLAlchemy DSN (sqlite:///file.db or postgresql+psycopg2://user:pass@host:5432/db).
DATABASE_URL=sqlite:///zip_processing.db


# Directories & Storage

# Folder for uploaded archives before processing (relative to app BASE_DIR).
UPLOAD_DIR=files/uploaded

# Folder where extracted/processed images are stored.
IMAGE_DIR=files/images

# Folder where extracted/processed PDFs are stored.
PDF_DIR=files/pdfs

# Folder for fully processed/archived inputs.
PROCESSED_DIR=files/processed

# Folder for inputs that failed processing.
PROCESSING_ERROR_DIR=files/processing_error

# Bucket for Diabetic Retinopathy reports (PDF).
DR_PDF_DIR=files/dr_pdfs

# Bucket for Glaucoma reports (PDF).
GLAUCOMA_PDF_DIR=files/glaucoma_pdfs

# Root directory for user direct image uploads.
DIRECT_UPLOAD_DIR=files/direct_uploads


# Upload Limits & Validation

# Max total request size (bytes). Keep reverse proxy limits in sync.
MAX_CONTENT_LENGTH=224288000

# Max size in bytes for a single uploaded file.
PER_FILE_MAX_BYTES=10485760

# Max number of files allowed per upload request.
MAX_FILES_PER_UPLOAD=50

# Cap on number of images allowed per direct upload batch.
DIRECT_UPLOAD_MAX_FILES=100

# Per-file size cap (MB) for direct uploads.
DIRECT_UPLOAD_MAX_FILE_SIZE_MB=5

# Comma-separated list of allowed MIME types for direct uploads.
DIRECT_UPLOAD_ALLOWED_MIMETYPES="image/jpeg,image/png"


# Logging

# Path to access log for successful HTTP requests.
HTTP_SUCCESS_LOG=logs/http_success.log

# Path to access/error log for failed HTTP requests.
HTTP_ERROR_LOG=logs/http_error.log

# Path to log file for zip ingestion tasks.
ZIP_INGEST_LOG=logs/zip_main_process_log.txt

# Path to log file for successful PDF processing events.
SUCCESS_LOG=logs/process_pdf_success_log.txt

# Path to log file for PDF processing errors.
ERROR_LOG=logs/process_pdf_error_log.txt


# Pagination & UI

# Default page size for uploaded files listing.
UPLOADED_RESULTS_PAGE_SIZE=25

# Default page size for screenings listing.
SCREENINGS_PAGE_SIZE=50
