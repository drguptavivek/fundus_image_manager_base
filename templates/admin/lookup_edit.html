{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>{{ title }}</h2>

    <div class="card">
        <div class="card-body">
            <form method="POST" action="{{ url_for('admin.edit_lookup', model_name=model_name, item_id=item.id) }}">
                {{ csrf_field() }}
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="name" name="name" value="{{ item.name }}" required>
                </div>
                {% if model_name == 'lab_unit' and hospitals %}
                <div class="mb-3">
                    <label for="hospital_id" class="form-label">Hospital</label>
                    <select class="form-select" id="hospital_id" name="hospital_id" required>
                        {% for hospital in hospitals %}
                        <option value="{{ hospital.id }}" {% if item.hospital_id == hospital.id %}selected{% endif %}>{{ hospital.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                {% endif %}
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a href="{{ url_for('admin.list_and_create_lookup', model_name=model_name) }}" class="btn btn-secondary">Cancel</a>
            </form>
        </div>
    </div>
</div>
{% endblock %}
